---
title: "010 - Score Sum Queries（★2）"
---

[010 \- Score Sum Queries（★2）](https://atcoder.jp/contests/typical90/tasks/typical90_j)

# アルゴリズム

## 累積和

2～6番の生徒の合計点数を求めたいとします。単純に行うと、✅ が付いている値の合計になります。

||1|✅2|✅3|✅4|✅5|✅6|7|
|---|---|---|---|---|---|---|---|
|1組|72|✅|✅|✅23|✅|✅40|75|
|2組||✅78|✅94|✅|✅89|✅||

事前に累積和を求めておくと、✅を付けた値の引き算で同じ値が求まります。範囲が広いときはこちらの方が速いです。

||0|✅1|2|3|4|5|✅6|7|
|---|---|---|---|---|---|---|---|---|
|1組|0|✅72|72|72|95|95|✅135|210|
|2組|0|✅0|78|172|172|261|✅261|261|

||足し算で解く|累積和で解く|正解|
|---|---|---|---|
|1組|0 + 0 + 23 + 0 + 40|135 - 72|63|
|2組|78 + 94 + 0 + 0 + 89|261 - 0|261|

# Tips

## unreachable!

* [unreachable in std \- Rust](https://doc.rust-lang.org/std/macro.unreachable.html)

生徒は 1組か2組のどちらかです。組を示す入力 `c` は `1`, `2` どちらかです。コード上絶対に通らないことを示すために、私は `unreachable!()` をよく書きます。

```rust
match c {
    1 => {
        cum[i + 1].0 += p;
    }
    2 => {
        cum[i + 1].1 += p;
    }
    _ => unreachable!(),
}
```

この問題のように入力が 2種類なら、 `c == 1` かどうかだけを `if` で調べるのでも十分です。 

```rust
if c == 1 {
    cum[i + 1].0 += p;
} else {
    cum[i + 1].1 += p;
}
```


# 実装例

## 累積和
https://github.com/hossy3/atcoder-solutions/blob/main/atcoder/typical90/src/bin/010_cumulative_sum.rs
