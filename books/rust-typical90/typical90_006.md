---
title: "006 - Smallest Subsequenceï¼ˆâ˜…5ï¼‰"
---

[006 \- Smallest Subsequenceï¼ˆâ˜…5ï¼‰](https://atcoder.jp/contests/typical90/tasks/typical90_f)

# ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

## äºŒåˆ†æ¢ç´¢ (BTreeSet::range())

`atcoder` ã®é•·ã•3ã®éƒ¨åˆ†æ–‡å­—åˆ—ã§æœ€å°ãªã‚‚ã®ã‚’æ±‚ã‚ã¾ã™ã€‚ã¾ãšæ–‡å­—ã”ã¨ã®å‡ºç¾é †ã«ä¸¦ã³æ›¿ãˆã¾ã™ã€‚

||0|1|2|3|4|5|6|
|---|---|---|---|---|---|---|---|
|a|0|||||||
|c|||2|||||
|d|||||4|||
|e||||||5||
|o||||3||||
|r|||||||6|
|t||1||||||

æœ€å°ã®æ–‡å­—åˆ—ã®æœ€åˆã® 1æ–‡å­—ç›®ã¯ã€7æ–‡å­—ã®ã†ã¡å¾Œã‚ 2æ–‡å­—ã‚’é™¤ã„ãŸç¯„å›² `[0, 5)` ã®ä¸­ã§ã€è¾æ›¸é †ã«æœ€åˆã«è¦‹ã¤ã‹ã‚‹æ–‡å­—ã§ã™ã€‚ã‚‚ã— 4æ–‡å­—ç›®ã‚’ä½¿ã£ã¦ã‚‚ã€ãã®ã‚ã¨ 5, 6 ç•ªç›®ã‚’æ¡ç”¨ã™ã‚Œã°è‰¯ã„ã§ã™ã€‚

||ğŸ”0|ğŸ”1|ğŸ”2|ğŸ”3|ğŸ”4|5|6|
|---|---|---|---|---|---|---|---|
|a|âœ…0|||||||
|c|||2|||||
|d|||||4|||
|e||||||5||
|o||||3||||
|r|||||||6|
|t||1||||||

2æ–‡å­—ç›®ã¯ã€`[1, 6)` ã®ç¯„å›²ã§æœ€åˆã«è¦‹ã¤ã‹ã‚‹æ–‡å­—ã§ã™ã€‚`a` ã¯ã“ã®ç¯„å›²å†…ã«ãªãã€æ¬¡ã® `c` ãŒç¯„å›²å†…ã«ã‚ã‚Šã¾ã™ã€‚

||0|ğŸ”1|ğŸ”2|ğŸ”3|ğŸ”4|ğŸ”5|6|
|---|---|---|---|---|---|---|---|
|a|âœ…0|||||||
|c|||âœ…2|||||
|d|||||4|||
|e||||||5||
|o||||3||||
|r|||||||6|
|t||1||||||

3æ–‡å­—ç›®ã¯ã€`[3, 7)` ã®ç¯„å›²ã§æœ€åˆã«è¦‹ã¤ã‹ã‚‹æ–‡å­—ã§ã™ã€‚`a`, `c` ã¯ã“ã®ç¯„å›²å†…ã«ãªãã€æ¬¡ã® `d` ãŒç¯„å›²å†…ã«ã‚ã‚Šã¾ã™ã€‚

||0|1|2|ğŸ”3|ğŸ”4|ğŸ”5|ğŸ”6|
|---|---|---|---|---|---|---|---|
|a|âœ…0|||||||
|c|||âœ…2|||||
|d|||||âœ…4|||
|e||||||5||
|o||||3||||
|r|||||||6|
|t||1||||||

ã“ã®ã‚ˆã†ã« `[l, r)` ç¯„å›²å†…ã®æœ€åˆã®å€¤ã‚’å¾—ãŸã„ã¨ãã«ã¯ `BTreeSet::range()` ãŒä¾¿åˆ©ã§ã™ã€‚äºŒåˆ†æ¢ç´¢ã—ãŸã„ã®ã§ `HashSet` ã¯ä½¿ãˆã¾ã›ã‚“ã€‚

[BTreeSet in std::collections \- Rust > range()](https://doc.rust-lang.org/std/collections/struct.BTreeSet.html#method.range)

```rust
if let Some(i) = set.range(l..r).next() {
    // ...
}
```

26å€‹ã® set ã«ã€a ã‹ã‚‰é †ã«ç¯„å›²å†…ã«å•ã„åˆã‚ã›ã‚‹æ„Ÿã˜ã§ã™ã€‚


## æ¬¡ã®å€™è£œã‚’ãƒ¡ãƒ¢

||å€™è£œ|0|1|2|3|4|5|6|
|---|---|---|---|---|---|---|---|---|
|a|0|0|||||||
|c|2|||2|||||
|d|4|||||4|||
|e|5||||||5||
|o|3||||3||||
|r|6|||||||6|
|t|1||1||||||

||å€™è£œ|ğŸ”0|ğŸ”1|ğŸ”2|ğŸ”3|ğŸ”4|5|6|
|---|---|---|---|---|---|---|---|---|
|a|0|âœ…0|||||||
|c|2|||2|||||
|d|4|||||4|||
|e|5||||||5||
|o|3||||3||||
|r|6|||||||6|
|t|1||1||||||

||å€™è£œ|0|ğŸ”1|ğŸ”2|ğŸ”3|ğŸ”4|ğŸ”5|6|
|---|---|---|---|---|---|---|---|---|
|a|-|âœ…0|||||||
|c|2|||âœ…2|||||
|d|4|||||4|||
|e|5||||||5||
|o|3||||3||||
|r|6|||||||6|
|t|1||1||||||

1ã¤æ¡ç”¨ã™ã‚‹ãŸã³ã«æ¬¡ã®å€™è£œã‚’æ›´æ–°ã™ã‚‹ã€ã¨ã„ã†æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚åŒã˜å ´æ‰€ã‚’ç¹°ã‚Šè¿”ã—èª¿ã¹ãªã„ãŸã‚ã€ã‚ˆã‚Šé«˜é€Ÿã§ã™ã€‚


# Tips

## let else

* [let\-else \- Rust By Example æ—¥æœ¬èªç‰ˆ](https://doc.rust-jp.rs/rust-by-example-ja/flow_control/let_else.html)

Rust 1.65 ã§å¢—ãˆãŸæ§‹æ–‡ã§ã™ã€‚

```rust
if let Some(i) = set.range(l..r).next() {
    // ...
}
```

ã®ã‚ˆã†ã«æ›¸ãã¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒ 1ã¤å¢—ãˆã¾ã™ãŒã€

```rust
let Some(i) = set.range(l..r).next() else {
    continue;
}
// ...
```

ã®ã‚ˆã†ã«æ›¸ãã¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒå¢—ãˆã¾ã›ã‚“ã€‚ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒæ·±ããªã‚‹ã¨ã‹ã£ã“ã®å¯¾å¿œé–¢ä¿‚ã‚’è¾¿ã‚Šã¥ã‚‰ããªã‚Šã¾ã™ã®ã§ã€ãŠã™ã™ã‚ã§ã™ã€‚

let else` æ§‹æ–‡ãŒ rustfmt ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã®å¯¾è±¡ã«ãªã£ãŸã®ã¯ Rust 1.72 ã§ã™ã€‚AtCoder 2023å¹´ç‰ˆã® Rust 1.70 ã§ã¯ã¾ã ä½¿ãˆã¾ã›ã‚“ã€‚æ¬¡å›æ›´æ–°ã«æœŸå¾…ã§ã™ã€‚


# å®Ÿè£…ä¾‹

## äºŒåˆ†æ¢ç´¢
https://github.com/hossy3/atcoder-solutions/blob/main/atcoder/typical90/src/bin/006_range.rs

## æ¬¡ã®å€™è£œã‚’ãƒ¡ãƒ¢
https://github.com/hossy3/atcoder-solutions/blob/main/atcoder/typical90/src/bin/006_greedy.rs
